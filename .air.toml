# .air.toml (Go Hot Reload Config)

root = "."
testdata_dir = "testdata"
tmp_dir = "tmp"

[build]
  # 1. 빌드 결과물에 .exe 붙이기
  cmd = "go build -o ./tmp/main.exe ."

  # 2. 실행할 파일명에도 .exe 붙이기
  bin = "./tmp/main.exe"

  # ✨ [추가] 파일 변경 감지 방식 변경 (이벤트 -> 폴링)
  poll = true
  # 3. 감시할 파일 확장자 (이 파일들이 변하면 재시작)
  include_ext = ["go", "tpl", "tmpl", "html", "yaml", "yml"]
  # 4. 무시할 폴더
  exclude_dir = ["assets", "tmp", "vendor", "testdata", "docs", "logs"]
  # 5. 제외할 파일
  exclude_file = []
  # 6. 재시작 딜레이 (ms)
  delay = 1000
  # 7. 빌드 에러 발생 시 기존 프로세스 유지 여부
  stop_on_error = true
  # 8. 로그 색상
  log = "air_errors.log"

[log]
  time = true

[color]
  main = "magenta"
  watcher = "cyan"
  build = "yellow"
  runner = "green"

[misc]
  clean_on_exit = true